<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts PUBLIC
    "-//Apache Software Foundation//DTD Struts Configuration 2.3//EN"
    "http://struts.apache.org/dtds/struts-2.3.dtd">

<struts>
	<constant name="struts.devMode" value="true" />
	<constant name="struts.convention.default.parent.package"
		value="default" />

	<package name="default" namespace="/" extends="struts-default,json-default">
		<result-types>
			<result-type name="tiles"
				class="org.apache.struts2.views.tiles.TilesResult" />
		</result-types>

		<interceptors>
			<interceptor name="authenticationInterceptor"
				class="edu.iiitb.facebook.interceptors.AuthenticationInterceptor">
			</interceptor>
			<interceptor-stack name="secureAccess">
				<interceptor-ref name="authenticationInterceptor" />
				<interceptor-ref name="defaultStack" />
			</interceptor-stack>
		</interceptors>

		<!-- This is for News Feeds -->
		<action name="newsfeeds"
			class="edu.iiitb.facebook.action.newsfeeds.NewsFeedsAction">
			<interceptor-ref name="secureAccess"></interceptor-ref>
			<result name="success" type="tiles">newsfeeds.tiles</result>
			<result name="login">/login.jsp</result>
		</action>

		<!-- This is for Posting Comments -->
		<action name="postcomment"
			class="edu.iiitb.facebook.action.comment.PostCommentsAction">
			<interceptor-ref name="secureAccess"></interceptor-ref>
			<result type="json" name="success" />
			<result type="json" name="input" />
			<result name="login">/login.jsp</result>
		</action>

		<!-- This is for Status Update -->
		<action name="statusupdate"
			class="edu.iiitb.facebook.action.status.StatusUpdateAction">
			<interceptor-ref name="secureAccess"></interceptor-ref>
			<result type="json" name="success" />
			<result type="json" name="input" />
			<result name="login">/login.jsp</result>
		</action>

		<!-- This is for Friend Suggestions -->
		<action name="friendsuggestions"
			class="edu.iiitb.facebook.action.friendsuggestions.FriendSuggestionsAction">
			<interceptor-ref name="secureAccess"></interceptor-ref>
			<result name="success">/suggestions/suggestions.jsp</result>
			<result name="login">/login.jsp</result>
		</action>
		<action name="mutualfriends"
			class="edu.iiitb.facebook.action.friendsuggestions.MutualFriendsAction">
			<interceptor-ref name="secureAccess"></interceptor-ref>
			<result name="success">/suggestions/mutualfriends.jsp</result>
			<result name="login">/login.jsp</result>
			<result name="input">/suggestions/mutualfriends.jsp</result>
		</action>

		<action name="profile"
			class="edu.iiitb.facebook.action.friends.FriendProfileAction">
			<interceptor-ref name="secureAccess"></interceptor-ref>
			<result name="success" type="tiles">friends.tiles</result>
			<result name="login">/login.jsp</result>

		</action>
		<action name="addfriend"
			class="edu.iiitb.facebook.action.friends.FriendProfileAction" method="addfriendReqeust">
			<interceptor-ref name="secureAccess"></interceptor-ref>
			<result name="success" type="redirectAction">profile?fref=${fref}</result>
			<result name="login">/login.jsp</result>

		</action>
		<action name="confirmRequest"
			class="edu.iiitb.facebook.action.friends.FriendProfileAction" method="confirmAddFriend">
			<interceptor-ref name="secureAccess"></interceptor-ref>
			<result name="success" type="redirectAction">profile?fref=${fref}</result>
			<result name="login">/login.jsp</result>

		</action>
		<action name="rejectRequest"
			class="edu.iiitb.facebook.action.friends.FriendProfileAction" method="rejectFriend">
			<interceptor-ref name="secureAccess"></interceptor-ref>
			<result name="success" type="redirectAction">profile?fref=${fref}</result>
			<result name="login">/login.jsp</result>
		</action>

		<action name="login" class="edu.iiitb.facebook.action.login.LoginAction">
			<result name="success" type="redirectAction">newsfeeds</result>
			<result name="input">/login.jsp</result>

		</action>
			

		<action name="search" class="edu.iiitb.facebook.action.search.SearchAction">
			<result name="success" type="redirectAction">profile?fref=${fref}</result>
		</action>
		<action name="viewfriendsAction" class="edu.iiitb.facebook.action.viewfriends.ViewFriendsAction">
			<result name="success" type="tiles">viewFriends.tiles</result>
		</action>

	</package>

</struts>
